{"mappings":"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","sources":["public/js/index.js","public/js/leaflet.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","public/js/login.js","public/js/alerts.js","public/js/updateSettings.js","public/js/resizeImage.js","public/js/signup.js","public/js/stripe.js"],"sourcesContent":["/* eslint-disable */\r\nimport { displayMap } from './leaflet';\r\nimport { login, logout } from './login';\r\nimport { updateSettings } from './updateSettings';\r\nimport { resizeImage } from \"./resizeImage.js\";\r\nimport { signup } from './signup';\r\nimport { bookTour } from './stripe';\r\n\r\n// DOM ELEMENTS\r\nconst mapbox = document.getElementById('map');\r\nconst loginForm = document.getElementById('form--login');\r\nconst logOutBtn = document.querySelector('.nav__el--logout');\r\nconst userDataForm = document.getElementById('form--update');\r\nconst userPasswordForm = document.getElementById('form--password');\r\nconst pfpUploadInput = document.getElementById(\"photo\");\r\nconst formSignUp = document.getElementById('form--signup');\r\nconst bookBtn = document.getElementById('book-tour');\r\n\r\n// DELEGATION\r\nif (mapbox) {\r\n    const  locations = JSON.parse(mapbox.dataset.locations);\r\n    displayMap(locations);\r\n}\r\n\r\nif (loginForm) {\r\n    loginForm.addEventListener('submit', e => {\r\n        e.preventDefault();\r\n\r\n        // Log in form values\r\n        const email = document.getElementById('email').value;\r\n        const password = document.getElementById('password').value;\r\n\r\n        login(email, password);\r\n    });\r\n}\r\n\r\nif (logOutBtn) logOutBtn.addEventListener('click', logout);\r\n\r\nif (userDataForm) {\r\n    pfpUploadInput.addEventListener(\"change\", async (e) => {\r\n        const inputPic = pfpUploadInput.files[0];\r\n        if (inputPic) {\r\n            const userPhotoElement =\r\n                document.querySelector(\".form__user-photo\");\r\n            resizeImage(inputPic, 500, 500, userPhotoElement);\r\n        }\r\n    });\r\n    userDataForm.addEventListener('submit', async e => {\r\n        e.preventDefault();\r\n\r\n        const form = new FormData();\r\n        form.append('name', document.getElementById('name').value);\r\n        form.append('email', document.getElementById('email').value);\r\n        form.append('photo', document.getElementById('photo').files[0]);\r\n        console.log(form);\r\n\r\n        await updateSettings(form, 'data');\r\n    });\r\n}\r\n\r\nif (userPasswordForm) {\r\n    userPasswordForm.addEventListener('submit', async e => {\r\n        e.preventDefault();\r\n        document.querySelector('.btn--save-password').textContent = 'Updating...';\r\n        \r\n        const passwordCurrent = document.getElementById('password-current').value;\r\n        const password = document.getElementById('password').value;\r\n        const passwordConfirm = document.getElementById('password-confirm').value;\r\n\r\n        await updateSettings({passwordCurrent, password, passwordConfirm}, 'password');\r\n\r\n        document.querySelector('.btn--save-password').textContent = 'Save password';\r\n        document.getElementById('password-current').value = '';\r\n        document.getElementById('password').value = '';\r\n        document.getElementById('password-confirm').value = '';\r\n\r\n    });\r\n}\r\n\r\nif (formSignUp) {\r\n    formSignUp.addEventListener('submit', e => {\r\n        e.preventDefault();\r\n\r\n        const firstname = document.getElementById('firstname').value;\r\n        const lastname = document.getElementById('lastname').value;\r\n        const name = firstname + ' ' + lastname;\r\n        const email = document.getElementById('email').value;\r\n        const password = document.getElementById('password').value;\r\n        const passwordConfirm = document.getElementById('password-confirm').value;\r\n\r\n        signup(name, email, password, passwordConfirm);\r\n    });\r\n}\r\n\r\nif (bookBtn)\r\n    bookBtn.addEventListener('click', e => {\r\n        e.target.textContent = 'Processing...';\r\n        const { tourId } = e.target.dataset;\r\n        bookTour(tourId);\r\n    });","/* eslint-disable */\r\n\r\nexport const displayMap = locations => {\r\n    const map = L.map('map', { zoomControl: false });\r\n    \r\n    // Add a tile layer to add to our map\r\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution:\r\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n    }).addTo(map);\r\n    \r\n    // Create icon using the image provided by Jonas\r\n    var greenIcon = L.icon({\r\n        iconUrl: '/img/pin.png',\r\n        iconSize: [32, 40], // size of the icon\r\n        iconAnchor: [16, 40], // point of the icon which will correspond to marker's location\r\n        popupAnchor: [0, -50], // point from which the popup should open relative to the iconAnchor\r\n    });\r\n    \r\n    // Add locations to the map\r\n    const points = [];\r\n    locations.forEach(loc => {\r\n        // Create points\r\n        points.push([loc.coordinates[1], loc.coordinates[0]]);\r\n\r\n        // Add markers\r\n        L.marker([loc.coordinates[1], loc.coordinates[0]], { icon: greenIcon })\r\n            .addTo(map)\r\n            // Add popup\r\n            .bindPopup(`<p>Day ${loc.day}: ${loc.description}</p>`, {\r\n            autoClose: false,\r\n            className: 'mapPopup',\r\n            })\r\n            .openPopup();\r\n    });\r\n    \r\n    // Set map bounds to include current location\r\n    const bounds = L.latLngBounds(points).pad(0.5);\r\n    map.fitBounds(bounds);\r\n    \r\n    // Disable scroll on map\r\n    map.scrollWheelZoom.disable();\r\n};\r\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","/* eslint-disable */\r\n// import axios from 'axios';\r\nimport { showAlert } from \"./alerts\";\r\n\r\nexport const login = async (email, password) => {\r\n\r\n    try{\r\n        const res = await axios({\r\n            method: 'POST',\r\n            url: '/api/v1/users/login',\r\n            data: {\r\n                email,\r\n                password\r\n            }\r\n        })\r\n        \r\n        if (res.data.status === 'success') {\r\n            showAlert('success', 'Logged in successfully!');\r\n            window.setTimeout( () => {\r\n                location.assign('/');\r\n            }, 1500)\r\n        }\r\n    } catch (err) {\r\n        showAlert('error', err.response.data.message);\r\n    }\r\n};\r\n\r\nexport const logout = async () => {\r\n    try {\r\n        // console.log('in');\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: '/api/v1/users/logout'\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            window.setTimeout( () => {\r\n                location.assign('/');\r\n            }, 1500)\r\n        }\r\n    } catch (err) {\r\n        showAlert('error', 'Error logging out! Try again.');\r\n    }\r\n};\r\n\r\n","/* eslint-disable */\r\n\r\nexport const hideAlert = () => {\r\n    const el = document.querySelector('.alert');\r\n    if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\n// type is 'success' or 'error'\r\nexport const showAlert = (type, msg) => {\r\n    hideAlert();\r\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n    document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\r\n    window.setTimeout(hideAlert, 5000);\r\n}","/* eslint-disable */\r\n// update data\r\nimport { showAlert } from \"./alerts\";\r\n\r\nexport const updateSettings = async (data, type) => {\r\n    try{\r\n        const url = \r\n            type === 'password'\r\n            ? '/api/v1/users/updateMyPassword'\r\n            : '/api/v1/users/updateMe';\r\n\r\n        const res = await axios({\r\n            method: 'PATCH',\r\n            url,\r\n            data\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            showAlert('success', `${type.toUpperCase()} setting successfully!`);\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        showAlert('error', err.response.data.message);\r\n    }\r\n};\r\n","/*eslint-disable*/\r\nexport const resizeImage = (\r\n    image,\r\n    targetWidth,\r\n    targetHeight,\r\n    targetElement = undefined\r\n) => {\r\n    let data;\r\n    const filerdr = new FileReader();\r\n    filerdr.onload = (evt) => {\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            const canvas = document.createElement(\"canvas\");\r\n            const ctx = canvas.getContext(\"2d\");\r\n            canvas.width = targetWidth;\r\n            canvas.height = targetHeight;\r\n            let startWidth;\r\n            let startHeight;\r\n            let width;\r\n            let height;\r\n            if (img.height > img.width) {\r\n                startWidth = 0;\r\n                startHeight = (img.height - img.width) / 2;\r\n                width = img.width;\r\n                height = img.width * (targetHeight / targetWidth);\r\n            } else {\r\n                startWidth = (img.width - img.height) / 2;\r\n                startHeight = 0;\r\n                width = img.height * (targetWidth / targetHeight);\r\n                height = img.height;\r\n            }\r\n            ctx.drawImage(\r\n                img,\r\n                startWidth, // Crop start width\r\n                startHeight, // Crop start height\r\n                width, // Cropped width\r\n                height, // Cropped height\r\n                0, // Canvas start width\r\n                0, // Canvas start height\r\n                targetWidth, // Result width\r\n                targetHeight // Result height\r\n            );\r\n            data = canvas.toDataURL(\"image/jpeg\");\r\n            if (targetElement) targetElement.src = data;\r\n        };\r\n        img.src = evt.target.result;\r\n    };\r\n    filerdr.readAsDataURL(image);\r\n    return data;\r\n};","/* eslint-disable */\r\nimport { showAlert } from \"./alerts\";\r\n\r\nexport const signup = async (name, email, password, passwordConfirm) => {\r\n    \r\n    try{\r\n        const res = await axios({\r\n            method: 'POST',\r\n            url: '/api/v1/users/signup',\r\n            data: {\r\n                name,\r\n                email,\r\n                password,\r\n                passwordConfirm\r\n            }\r\n        })\r\n        \r\n        if (res.data.status === 'success') {\r\n            showAlert('success', 'Account created successfully!');\r\n            window.setTimeout( () => {\r\n                location.assign('/');\r\n            }, 1500)\r\n        }\r\n    } catch (err) {\r\n        showAlert('error', err.response.data.message);\r\n    }\r\n};","/* eslint-disable */\r\nimport { showAlert } from \"./alerts\";\r\nconst stripe = Stripe('pk_test_51Lg4wfIGwHIlOnnnUTzazEz6gRwdCEQwkogKTQSfQBHO6EB72NBzV5QChjmCS1CTANLcx7Pd1AApPFFWljgVxyKQ00K1ss2Wn9');\r\n\r\nexport const bookTour = async tourId => {\r\n    try {\r\n        // 1) get checkout session from API\r\n        const session = await axios(\r\n            `/api/v1/bookings/checkout-session/${tourId}`\r\n        );\r\n        console.log(session);\r\n    \r\n        // 2) create checkout from + charge credit card\r\n        await stripe.redirectToCheckout({\r\n            sessionId: session.data.session.id\r\n        });\r\n    } catch (err) {\r\n        console.log(err);\r\n        showAlert('error', err);\r\n    }\r\n}"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../../"}